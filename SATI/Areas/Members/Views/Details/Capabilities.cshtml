@using Microsoft.AspNet.Identity;
@model SATI.Areas.Admin.Models.CapabilitiesViewModel

@{
    ViewBag.Title = "Capabilities";
}

<style>
    /*#addCapabilityContainer {
        display: none;
    }*/

        #addCapabilityContainer .actionButtons button {
            display: inline-block;
            margin-top: 25px;
        }

    .selectedRow {
        background: lightblue;
    }

    .attributeHeader {
        cursor: pointer;
    }

        .attributeHeader:hover {
            background: lightgray;
        }

    .pickerContainer {
        display: none;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        bottom: 0 !important;
        right: 0 !important;
        width: 100% !important;
        height: 100% !important;
        z-index: 9999;
        background: rgba(0, 0, 0, 0.3);
        overflow: hidden;
    }

        .pickerContainer .pickerBody {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            min-height: 300px;
            width: 900px;
            padding: 30px;
            padding-bottom: 15px;
            background: white;
            -webkit-box-shadow: 0 0 5px #222222;
            box-shadow: 0 0 5px #222222;
        }

    [data-unselected], [data-selected] {
        border: 1px solid lightgray;
        padding-bottom: 5px;
        max-height: 270px;
        overflow-y: auto;
        margin-bottom: 10px;
    }

    .pickerContainer tr {
        padding: 3px 0;
        cursor: pointer;
    }

        .pickerContainer tr:hover {
            background: lightgray;
        }

    .addBtn, .removeBtn {
        width: 100px;
    }

    .addBtn {
        margin-bottom: 15px;
    }

    .closeBtn {
        margin-right: 15px;
    }
</style>

<div style="margin-top: 30px;">
    @{ Html.RenderPartial("_Tab", TabType.Capabilities);}

    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="capabilities" style="padding-top: 15px;">
            @{ Html.RenderPartial("~/Views/Shared/Member/_Capabilities.cshtml", Model);}
        </div>
    </div>
</div>

@section scripts{
    <script src="~/Scripts/app/shared/capabilities.js"></script>
    <script>
        $(function () {
            new capabilities(
            '@User.Identity.GetUserId()',
            '@Url.Action("AddCapability", "Shared", new { area = ""})',
            '@Url.Action("CapabilityDetails", "Shared", new { area = "" })',
            '@Url.Action("SaveSpecialisations", "Shared", new { area = "" })',
            '@Url.Action("SaveAccreditations", "Shared", new { area = "" })',
            '@Url.Action("SaveIsAccredited", "Shared", new { area = "" })'
                )
        })
    </script>
}